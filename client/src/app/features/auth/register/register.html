<section class="auth register">
  <h2 class="page-title">Register</h2>

  @if (serverError) {
  <p class="alert error">{{ serverError }}</p>
  }

  <form class="form" [formGroup]="registerForm" (ngSubmit)="onSubmit()">
    <div class="form-row">
      <label class="form-label" for="username">Username</label>
      <input
        id="username"
        class="form-input"
        type="text"
        formControlName="username"
      />
      @if (registerFormService.isUsernameError(registerForm)) {
      <p class="field-error">
        {{ registerFormService.getUsernameErrorMessage(registerForm) }}
      </p>
      }
    </div>

    <div class="form-row">
      <label class="form-label" for="email">Email</label>
      <input
        id="email"
        class="form-input"
        type="email"
        formControlName="email"
      />
      @if (registerFormService.isEmailError(registerForm)) {
      <p class="field-error">
        {{ registerFormService.getEmailErrorMessage(registerForm) }}
      </p>
      }
    </div>

    <div class="form-row-group" [formGroupName]="'passwords'">
      <!-- Password Field -->
      <div class="form-row">
        <label class="form-label" for="password">Password</label>
        <input
          id="password"
          class="form-input"
          type="password"
          formControlName="password"
        />
        @if (registerFormService.isPasswordError(registerForm)) {
        <p class="field-error">
          {{ registerFormService.getPasswordErrorMessage(registerForm) }}
        </p>
        }
      </div>

      <!-- Repeat Password Field -->
      <div class="form-row">
        <label class="form-label" for="rePassword">Repeat Password</label>
        <input
          id="rePassword"
          class="form-input"
          type="password"
          formControlName="rePassword"
        />
        @if (registerFormService.isRePasswordError(registerForm)) {
        <p class="field-error">
          {{ registerFormService.getRePasswordErrorMessage(registerForm) }}
        </p>
        }
      </div>
    </div>

    <div class="form-actions">
      <button class="btn primary" type="submit">Register</button>
    </div>

    <p class="form-hint">
      Already have an account?
      <a routerLink="/auth/login" class="link">Log In</a>
    </p>
  </form>
</section>
