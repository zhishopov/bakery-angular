<h2>Menu</h2>

@if (loading()) {
<p>Loading products...</p>
} @else if (products().length === 0) {
<p>No products available.</p>
} @else { @for (product of products(); track product._id) {
<div>
  <h3>{{ product.name }}</h3>
  <p>{{ product.description }}</p>
  <p>Â£{{ product.price }}</p>

  <img [src]="getImageSrc(product)" [alt]="product.name" width="200" />

  <p>Likes: {{ countFor(product._id) }}</p>

  @if (isLoggedIn) {
  <button type="button" (click)="likeOrUnlike(product._id)">
    {{ userHasLiked(product._id) ? "Unlike" : "Like" }}
  </button>
  }

  <div style="margin-top: 8px">
    <button type="button" [routerLink]="['/products', product._id]">
      Details
    </button>
  </div>

  <hr />
</div>
} }
